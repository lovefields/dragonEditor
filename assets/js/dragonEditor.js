!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dragonEditor=e():t.dragonEditor=e()}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";function o(t,e){if("string"==typeof e){if(typeof t!=e)throw`invaild type ${t} : ${e}`}else if(!(t instanceof e))throw`invaild type ${t} : ${e}`;return t}function i(t,e){if("string"==typeof e){if(typeof t!=e)return!1}else if(!(t instanceof e))return!1;return!0}function c(t,e,n,i=o(t,"object"),c=o(e,"string"),r=o(n,"function")){t.length>0?t.forEach(t=>{t.addEventListener(e,n)}):t.addEventListener(e,n)}function r(t,e,n,i=o(t,"object"),c=o(e,"string"),r=o(n,"string")){t.length>0?t.forEach(t=>{"add"==e?t.classList.add(n):"remove"==e?t.classList.remove(n):"toggle"==e&&t.classList.toggle(n)}):"add"==e?t.classList.add(n):"remove"==e?t.classList.remove(n):"toggle"==e&&t.classList.toggle(n)}n.r(e),n.d(e,"typeCheckThrow",(function(){return o})),n.d(e,"typeCheckBoolean",(function(){return i})),n.d(e,"eventBinding",(function(){return c})),n.d(e,"classControl",(function(){return r}))},function(t,e,n){"use strict";n.r(e),n.d(e,"getElement",(function(){return i})),n.d(e,"checkElement",(function(){return c})),n.d(e,"findParentByClass",(function(){return r}));const{typeCheckThrow:o}=n(0);function i(t,e=!0,n=o(t,"string"),i=o(e,"boolean")){return 1==e?document.querySelectorAll(t):document.querySelector(t)}function c(t="",e,n=!0,c=o(t,"string"),r=o(e,"string"),a=o(n,"boolean")){return i(0==(""!=t&&function(t,e=o(t,"string")){return null!==document.querySelector(t)}(t))?e:t,n)}function r(t,e,n=o(t,Node),i=o(e,"string")){if("HTMLBodyElement"!==t.constructor.name&&"HTMLHtmlElement"!==t.constructor.name){return!0===t.classList.contains(name)?t:r(t.parentElement,name)}return null}},function(t,e,n){t.exports=n(3)},function(t,e,n){(function(e){const{typeCheckThrow:o}=n(0),{condition:i}=n(5),{makeView:c}=n(7),{setEvent:r}=n(8);t.exports=class{constructor(t="",n={},a=o(t,"string"),s=o(n,"object")){return e.editorCondition=new i(t,n),c(),editorCondition.setElement(n),r(),console.log(editorCondition),this}}}).call(this,n(4))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e),n.d(e,"condition",(function(){return s}));const{typeCheckThrow:o,typeCheckBoolean:i}=n(0),{getElement:c,checkElement:r}=n(1),{message:a}=n(6);class s{constructor(t,e){this.wrap=r(t,".editor-dragon",!1),this.setStatus(e)}setStatus(t){this.log=[],this.linkBoxData={},this.langCategory=["en","ko"],this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.enterCount=0,this.startTextCursor=0,this.endTextCursor=0,this.activeItem,this.activeElement,this.focusNode,this.baseNode,this.changePint=i(t.changePint,"number")?t.changePint:800,this.maxImageWidth=i(t.maxImageWidth,"number")?t.maxImageWidth:800,this.maxCodepenHeight=i(t.maxCodepenHeight,"number")?t.maxCodepenHeight:1e3,this.useWebp=!i(t.useWebp,"boolean")||t.useWebp,this.codepenTheme=i(t.codepenTheme,"string")?t.codepenTheme:"dark",this.uploadURL=i(t.uploadURL,"string")?t.uploadURL:"",this.blockName=i(t.blockName,Object)?t.blockName:{},this.removeMenu=i(t.removeMenu,Array)?t.removeMenu:[],this.addMenu=i(t.addMenu,Object)?t.addMenu:{},this.addLang=i(t.addLang,Array)?t.addLang:[],this.triggerLangChange=i(t.triggerLangChange,"function")?t.triggerLangChange:()=>{},this.setLang(t.lang),this.setContentData(),this.setBlockMenu(),this.addLanguage()}setLang(t){if(1==i(t,"undefined"))this.lang=this.langCategory[0];else if(1==i(t,"string")){let e=this.langCategory.indexOf(t);e>-1?this.lang=this.langCategory[e]:(this.langCategory.unshift(t),this.lang=this.langCategory[0])}else console.warn(a.wrongValue("lang")),this.lang=this.langCategory[0]}addLanguage(){let t=[];this.addLang.forEach(e=>{i(e,"string")&&2==e.length&&t.push(e)}),this.langCategory=[...new Set(this.langCategory.concat(t))],delete this.addLang}setContentData(){let t={};this.langCategory.forEach(e=>{t[e]=[]}),this.contentData=t}setBlockMenu(){let t={textBlock:{text:i(this.blockName.textBlock,"string")?this.blockName.textBlock:"Text",icon:"#icon-text-block"},imageBlock:{text:i(this.blockName.imageBlock,"string")?this.blockName.imageBlock:"Image",icon:"#icon-image-block"},ulBlock:{text:i(this.blockName.ulBlock,"string")?this.blockName.ulBlock:"Unnumbered list",icon:"#icon-ul-block"},olBlock:{text:i(this.blockName.olBlock,"string")?this.blockName.olBlock:"Numbered list",icon:"#icon-ol-block"},quotaionBlock:{text:i(this.blockName.quotaionBlock,"string")?this.blockName.quotaionBlock:"Quotaion",icon:"#icon-quotaion-block"},tableBlock:{text:i(this.blockName.tableBlock,"string")?this.blockName.tableBlock:"Table",icon:"#icon-table-block"},linkboxBlock:{text:i(this.blockName.linkboxBlock,"string")?this.blockName.linkboxBlock:"Link box",icon:"#icon-linkbox-block"},emoticonBlock:{text:i(this.blockName.emoticonBlock,"string")?this.blockName.emoticonBlock:"Emoticon",icon:"#icon-emoticon-block"},youtubeBlock:{text:i(this.blockName.youtubeBlock,"string")?this.blockName.youtubeBlock:"Youtube",icon:"#icon-youtube-block"},codepenBlock:{text:i(this.blockName.codepenBlock,"string")?this.blockName.codepenBlock:"Codepen",icon:"#icon-codepen-block"},codeBlock:{text:i(this.blockName.codeBlock,"string")?this.blockName.codeBlock:"Code",icon:"#icon-code-block"}};delete this.blockName,""==this.uploadURL&&delete t.imageBlock,this.removeMenu.forEach(e=>{delete t[e]}),delete this.removeMenu;for(const[e,n]of Object.entries(this.addMenu))t[e]={text:n.text,icon:n.icon,fn:n.fn};delete this.addMenu,this.defaultMenu=t}setElement(t){this.btnToggleTarget=c(".js-toggle-target"),this.btnOpenTarget=c(".js-open-target"),this.areaContent=r(t.contentArea,".js-content",!1),this.btnAddBlock=r(t.contentArea,".js-add-block"),this.btnSwitchDevice=r(t.contentArea,".js-switch-device",!1),this.btnChangeLang=r(t.contentArea,".js-change-lang"),console.log("set Element")}}},function(t,e,n){"use strict";n.r(e),n.d(e,"message",(function(){return o}));const o={wrongValue:t=>`DRAGON EDITOR : Wrong type value in "${t}".`}},function(t,e,n){"use strict";function o(){let t="";t+=`<div class="editor-content js-content" data-lang="${editorCondition.lang}"><p class="editor-item js-item" contenteditable="true" data-type="text"></p></div>`,t+='<div class="editor-menu-block">',t+=function(t){let e="";for(const[n,o]of Object.entries(t))"emoticonBlock"===n?(e+=`\n                <div class="editor-relative">\n                    <button class="editor-btn js-toggle-target" title="${o.text}" data-value="${n}" data-target=".editor-pop-emoticon">\n                        <svg viewbox="0 0 64 64" class="editor-icon">\n                            <use class="path" xlink:href="${o.icon}" href="${o.icon}"></use>\n                        </svg>\n                        ${o.text}\n                    </button>\n            `,e+=i(),e+="</div>"):e+=`\n                <button class="editor-btn js-add-block" title="${o.text}" data-value="${n}">\n                    <svg viewbox="0 0 64 64" class="editor-icon">\n                        <use class="path" xlink:href="${o.icon}" href="${o.icon}"></use>\n                    </svg>\n                    ${o.text}\n                </button>\n            `;return e}(editorCondition.defaultMenu),t+="</div>",t+='<div class="editor-menu-bottom">',t+='\n        <button class="editor-btn js-toggle-target" data-target=".editor-pop-folder">\n            <svg viewbox="0 0 64 64" class="editor-icon">\n                <use class="path" xlink:href="#icon-folder" href="#icon-folder"></use>\n            </svg>\n            Media\n        </button>\n        <button class="editor-btn js-toggle-target" data-target=".editor-pop-lang">\n            <svg viewbox="0 0 64 64" class="editor-icon">\n                <use class="path" xlink:href="#icon-lang" href="#icon-lang"></use>\n            </svg>\n            Change language\n        </button>\n        <button class="editor-btn editor-switch-device js-switch-device">\n            <svg class="icon" viewbox="0 0 64 64">\n                <use class="path editor-pc" xlink:href="#icon_pc" href="#icon-pc"></use>\n                <use class="path editor-mobile" xlink:href="#icon_mobile" href="#icon-mobile"></use>\n            </svg>\n            Change view\n        </button>\n    ',t+=function(){let t=`<div class="editor-pop-lang" data-length="${editorCondition.langCategory.length}">`;return editorCondition.langCategory.forEach(e=>{e==editorCondition.lang?t+=`<button class="editor-btn-lang js-change-lang --act" data-value="${e}">${e.toUpperCase()}</button>`:t+=`<button class="editor-btn-lang js-change-lang" data-value="${e}">${e.toUpperCase()}</button>`}),t+="</div>",t}(),t+="</div>",editorCondition.wrap.innerHTML=t}function i(){let t='<div class="editor-pop-emoticon">';return t+="</div>",'<div class="editor-pop-emoticon"></div>'}n.r(e),n.d(e,"makeView",(function(){return o}))},function(t,e,n){"use strict";n.r(e),n.d(e,"setEvent",(function(){return a}));const{eventBinding:o,classControl:i}=n(0),{getElement:c,findParentByClass:r}=n(1);function a(){!function(){let t;o(window,"resize",(function(e){clearTimeout(t),t=setTimeout(()=>{editorCondition.windowWidth=window.innerWidth,editorCondition.windowHeight=window.innerHeight},250)})),o(document,"click",(function(t){let e=t.target,n=c(".js-trigger"),o=null!=r(e,"js-trigger"),a=null!=r(e,"js-open-target"),s=null!=r(e,"js-toggle-target");0==a&&0==s&&0==o&&n.length>0&&i(n,"remove","--act")})),o(editorCondition.btnToggleTarget,"click",(function(t){let e=this.dataset.target,n=c(e);i(n,"toggle","--act")}))}(),o(editorCondition.btnChangeLang,"click",(function(){let t=this.dataset.value;i(editorCondition.btnChangeLang,"remove","--act"),i(this,"add","--act"),editorCondition.triggerLangChange(t)})),o(editorCondition.btnSwitchDevice,"click",(function(){i(editorCondition.areaContent,"toggle","--mobile"),i(this,"toggle","--act")})),console.log("set Event")}}])}));