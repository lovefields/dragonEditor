!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.dragonEditor=n():t.dragonEditor=n()}(window,(function(){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(i,o,function(n){return t[n]}.bind(null,o));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n,e){"use strict";function i(t,n){if("string"==typeof n){if(typeof t!=n)throw`invaild type ${t} : ${n}`}else if(!(t instanceof n))throw`invaild type ${t} : ${n}`;return t}function o(t,n){if("string"==typeof n){if(typeof t!=n)return!1}else if(!(t instanceof n))return!1;return!0}function l(t,n,e,o=!1,l=i(t,"object"),r=i(n,"string"),s=i(e,"function"),c=i(o,"boolean")){t.length>0?t.forEach(t=>{t.addEventListener(n,e,o)}):t.addEventListener(n,e,o)}function r(t,n,e,o=i(t,"object"),l=i(n,"string"),r=i(e,"string")){t.length>0?t.forEach(t=>{"add"==n?t.classList.add(e):"remove"==n?t.classList.remove(e):"toggle"==n&&t.classList.toggle(e)}):"add"==n?t.classList.add(e):"remove"==n?t.classList.remove(e):"toggle"==n&&t.classList.toggle(e)}function s(t,n,e=i(t,Node),o=i(n,"string")){let l=!1;return n.split(".").some(n=>{if(""!==n)return l=!!t.classList.contains(n),0==l}),l}e.r(n),e.d(n,"typeCheckThrow",(function(){return i})),e.d(n,"typeCheckBoolean",(function(){return o})),e.d(n,"eventBinding",(function(){return l})),e.d(n,"classControl",(function(){return r})),e.d(n,"hasClass",(function(){return s}))},function(t,n,e){"use strict";e.r(n),e.d(n,"getElement",(function(){return o})),e.d(n,"getChild",(function(){return l})),e.d(n,"checkElement",(function(){return r})),e.d(n,"findParentByClass",(function(){return s}));const{typeCheckThrow:i}=e(0);function o(t,n=!0,e=i(t,"string"),o=i(n,"boolean")){return 1==n?document.querySelectorAll(t):document.querySelector(t)}function l(t,n,e=!0,o=i(t,Node),l=i(n,"string"),r=i(e,"boolean")){return 1==e?t.querySelectorAll(n):t.querySelector(n)}function r(t="",n,e=!0,l=i(t,"string"),r=i(n,"string"),s=i(e,"boolean")){return o(0==(""!=t&&function(t,n=i(t,"string")){return null!==document.querySelector(t)}(t))?n:t,e)}function s(t,n,e=i(t,Node),o=i(n,"string")){if("HTMLBodyElement"!==t.constructor.name&&"HTMLHtmlElement"!==t.constructor.name){return!0===t.classList.contains(n)?t:s(t.parentElement,n)}return null}},function(t,n,e){t.exports=e(3)},function(t,n,e){(function(n){const{typeCheckThrow:i}=e(0),{condition:o}=e(5),{makeView:l}=e(7),{setEvent:r}=e(8);t.exports=class{constructor(t="",e={},s=i(t,"string"),c=i(e,"object")){return n.editorCondition=new o(t,e),l(),editorCondition.setElement(e),r(),console.log(editorCondition),this}}}).call(this,e(4))},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";e.r(n),e.d(n,"condition",(function(){return c}));const{typeCheckThrow:i,typeCheckBoolean:o}=e(0),{getElement:l,checkElement:r}=e(1),{message:s}=e(6);class c{constructor(t,n){this.wrap=r(t,".editor-dragon",!1),this.setStatus(n),this.setMessage(n.message)}setStatus(t){this.log=[],this.linkBoxData={},this.langCategory=["en","ko"],this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.enterCount=0,this.startTextCursor=0,this.endTextCursor=0,this.activeItem,this.activeElement,this.focusNode,this.baseNode,this.multiLang=!o(t.multiLang,"boolean")||t.multiLang,this.changePint=o(t.changePint,"number")?t.changePint:800,this.maxImageWidth=o(t.maxImageWidth,"number")?t.maxImageWidth:800,this.maxCodepenHeight=o(t.maxCodepenHeight,"number")?t.maxCodepenHeight:1e3,this.useWebp=!o(t.useWebp,"boolean")||t.useWebp,this.codepenTheme=o(t.codepenTheme,"string")?t.codepenTheme:"dark",this.blockName=o(t.blockName,Object)?t.blockName:{},this.removeMenu=o(t.removeMenu,Array)?t.removeMenu:[],this.addMenu=o(t.addMenu,Object)?t.addMenu:{},this.addLang=o(t.addLang,Array)?t.addLang:[],this.triggerLangChange=o(t.triggerLangChange,"function")?t.triggerLangChange:()=>{},this.multiUpload=!o(t.multiUpload,"boolean")&&t.multiUpload,this.setUploadURL(t.uploadURL),this.setLang(t.lang),this.setContentData(),this.setBlockMenu(),this.addLanguage()}setUploadURL(t){1==o(t,"string")||(this.uploadURL="")}setLang(t){if(1==o(t,"undefined"))this.lang=this.langCategory[0];else if(1==o(t,"string")){let n=this.langCategory.indexOf(t);n>-1?this.lang=this.langCategory[n]:(this.langCategory.unshift(t),this.lang=this.langCategory[0])}else console.warn(s.wrongValue("lang")),this.lang=this.langCategory[0]}addLanguage(){let t=[];this.addLang.forEach(n=>{o(n,"string")&&2==n.length&&t.push(n)}),this.langCategory=[...new Set(this.langCategory.concat(t))],delete this.addLang}setContentData(){let t={};this.langCategory.forEach(n=>{t[n]=[]}),this.contentData=t}setBlockMenu(){let t={textBlock:{text:"Text",icon:"#icon-text-block"},imageBlock:{text:"Image",icon:"#icon-image-block"},ulBlock:{text:"Unnumbered list",icon:"#icon-ul-block"},olBlock:{text:"Numbered list",icon:"#icon-ol-block"},quotaionBlock:{text:"Quotaion",icon:"#icon-quotaion-block"},tableBlock:{text:"Table",icon:"#icon-table-block"},linkboxBlock:{text:"Link box",icon:"#icon-linkbox-block"},emoticonBlock:{text:"Emoticon",icon:"#icon-emoticon-block"},youtubeBlock:{text:"Youtube",icon:"#icon-youtube-block"},codepenBlock:{text:"Codepen",icon:"#icon-codepen-block"},codeBlock:{text:"Code",icon:"#icon-code-block"}};for(const[n,e]of Object.entries(this.blockName))1==o(e,"string")&&(t[n].text=e);delete this.blockName,""==this.uploadURL&&delete t.imageBlock,this.removeMenu.forEach(n=>{delete t[n]}),delete this.removeMenu;for(const[n,e]of Object.entries(this.addMenu))t[n]={text:e.text,icon:e.icon,fn:e.fn};delete this.addMenu,this.defaultMenu=t}setElement(t){this.btnToggleTarget=l(".djs-toggle-target"),this.btnOpenTarget=l(".djs-open-target"),this.uploadForm=l(".djs-uploader",!1),this.uploadInput=l(".djs-uploader .djs-file",!1),this.areaContent=r(t.contentArea,".djs-content",!1),this.btnAddBlock=r(t.btnAddBlock,".djs-add-block"),this.btnSwitchDevice=r(t.btnSwitchDevice,".djs-switch-device",!1),this.btnChangeLang=r(t.btnChangeLang,".djs-change-lang"),this.popEmoticon=r(t.popEmoticon,".djs-emoticon-pop"),this.popFolder=r(t.popFolder,".djs-folder-pop"),console.log("set Element")}setMessage(t){}}},function(t,n,e){"use strict";e.r(n),e.d(n,"message",(function(){return i}));const i={wrongValue:t=>`DRAGON EDITOR : Wrong type value in "${t}".`}},function(t,n,e){"use strict";function i(){let t="";t+=`<div class="editor-content djs-content" data-lang="${editorCondition.lang}"><p class="editor-item djs-item" contenteditable="true" data-type="text"></p></div>`,t+='<div class="editor-menu-block">',t+=function(t){let n="";for(const[e,i]of Object.entries(t))"emoticonBlock"===e?(n+=`\n                <div class="editor-relative">\n                    <button class="editor-btn djs-toggle-target" title="${i.text}" data-value="${e}" data-target=".editor-pop-emoticon">\n                        <svg viewbox="0 0 64 64" class="editor-icon">\n                            <use class="path" xlink:href="${i.icon}" href="${i.icon}"></use>\n                        </svg>\n                        ${i.text}\n                    </button>\n            `,n+='<div class="editor-list-pop editor-pop-emoticon editor-scroll djs-emoticon-pop djs-trigger djs-scroll">\n                <div class="editor-scroll-content djs-scroll-content">\n                    <ul class="editor-list-emoticon djs-list-emoticon">\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                        <li>1</li>\n                    </ul>\n                </div>\n            </div>\n    ',n+="</div>"):n+=`\n                <button class="editor-btn djs-add-block" title="${i.text}" data-value="${e}">\n                    <svg viewbox="0 0 64 64" class="editor-icon">\n                        <use class="path" xlink:href="${i.icon}" href="${i.icon}"></use>\n                    </svg>\n                    ${i.text}\n                </button>\n            `;return n}(editorCondition.defaultMenu),t+="</div>",t+='<div class="editor-menu-bottom">',t+=function(){let t="";""!==editorCondition.uploadURL&&(t+='\n            <button class="editor-btn djs-toggle-target" data-target=".editor-pop-folder">\n                <svg viewbox="0 0 64 64" class="editor-icon">\n                    <use class="path" xlink:href="#icon-folder" href="#icon-folder"></use>\n                </svg>\n                Media\n            </button>\n        ');1==editorCondition.multiLang&&(t+='\n            <button class="editor-btn djs-toggle-target" data-target=".editor-pop-lang">\n                <svg viewbox="0 0 64 64" class="editor-icon">\n                    <use class="path" xlink:href="#icon-lang" href="#icon-lang"></use>\n                </svg>\n                Change language\n            </button>\n        ');return t+='\n        <button class="editor-btn editor-switch-device djs-switch-device">\n            <svg class="icon" viewbox="0 0 64 64">\n                <use class="path editor-pc" xlink:href="#icon_pc" href="#icon-pc"></use>\n                <use class="path editor-mobile" xlink:href="#icon_mobile" href="#icon-mobile"></use>\n            </svg>\n            Change view\n        </button>\n    ',t}(),1==editorCondition.multiLang&&(t+=function(){let t=`<div class="editor-pop-lang djs-trigger" data-length="${editorCondition.langCategory.length}">`;return editorCondition.langCategory.forEach(n=>{n==editorCondition.lang?t+=`<button class="editor-btn-lang djs-change-lang --act" data-value="${n}">${n.toUpperCase()}</button>`:t+=`<button class="editor-btn-lang djs-change-lang" data-value="${n}">${n.toUpperCase()}</button>`}),t+="</div>",t}()),t+='<div class="editor-list-pop editor-pop-folder editor-scroll djs-folder-pop djs-trigger djs-scroll">\n                <div class="editor-scroll-content djs-scroll-content">\n                    <ul class="editor-list-media djs-list-media"></ul>\n                </div>\n            </div>\n    ',t+="</div>",""!==editorCondition.uploadURL&&(t+=function(){let t='<form enctype="multipart/form-data" method="post" class="editor-uploader djs-uploader">';1==editorCondition.multiUpload?t+='<input type="file" multiple class="djs-file">':t+='<input type="file" class="djs-file">';return t+="</form>",t}()),editorCondition.wrap.innerHTML=t}function o(){return'<button class="scroll-bar djs-scroll-bar" style="transform:translateY(0)"></button>'}e.r(n),e.d(n,"makeView",(function(){return i})),e.d(n,"scrollButtonHTML",(function(){return o}))},function(t,n,e){"use strict";e.r(n),e.d(n,"setEvent",(function(){return g})),e.d(n,"bindingScrollEvent",(function(){return h}));const{typeCheckThrow:i}=e(0),{eventBinding:o,classControl:l,hasClass:r}=e(0),{getElement:s,findParentByClass:c,getChild:a}=e(1),{setScroll:d,getScrollInfo:u}=e(9);function g(){!function(){let t;o(window,"resize",(function(n){clearTimeout(t),t=setTimeout(()=>{editorCondition.windowWidth=window.innerWidth,editorCondition.windowHeight=window.innerHeight},250)})),o(document,"click",(function(t){let n=t.target,e=s(".djs-trigger"),i=null!=c(n,"djs-trigger"),o=null!=c(n,"djs-open-target"),r=null!=c(n,"djs-toggle-target");0==o&&0==r&&0==i&&e.length>0&&l(e,"remove","--act")})),o(editorCondition.btnToggleTarget,"click",(function(t){let n=this.dataset.target,e=s(n,!1),i=s(".djs-trigger"),o=r(e,".djs-scroll");i.forEach(t=>{if(t!==e&&(l(t,"remove","--act"),1==o)){e.querySelector(".djs-scroll-content").scrollTo(0,0)}}),l(e,"toggle","--act")}))}(),o(editorCondition.btnChangeLang,"click",(function(){let t=this.dataset.value;l(editorCondition.btnChangeLang,"remove","--act"),l(this,"add","--act"),console.log(editorCondition.lang),editorCondition.triggerLangChange(t)})),o(editorCondition.btnSwitchDevice,"click",(function(){l(editorCondition.areaContent,"toggle","--mobile"),l(this,"toggle","--act")})),d(s(".djs-scroll")),console.log("set Event")}function h(t,n=i(t,Node)){let e=a(t,".djs-scroll-content",!1),l=a(t,".djs-scroll-bar",!1),r=u(t);o(e,"scroll",(function(){let t=this.scrollTop,n=Math.floor(100/r.maxScrollTop*t),e=Math.floor(n/100*r.maxBarTop);l.style.transform=`translateY(${e}px)`}))}},function(t,n,e){"use strict";e.r(n),e.d(n,"setScroll",(function(){return s})),e.d(n,"refreshScroll",(function(){return a})),e.d(n,"getScrollInfo",(function(){return d}));const{typeCheckThrow:i}=e(0),{getChild:o}=e(1),{scrollButtonHTML:l}=e(7),{bindingScrollEvent:r}=e(8);function s(t,n=i(t,NodeList)){t.forEach(t=>{t.innerHTML+=l(),c(t),r(t)})}function c(t,n=i(t,Node)){let e=o(t,".djs-scroll-bar",!1),l=d(t);e.style.height=l.scrollHeight+"px"}function a(t,n=i(t,NodeList)){t.forEach(t=>{c(t)})}function d(t,n=i(t,Node)){let e,l,r,s,c=o(t,".djs-scroll-content",!1),a=t.getBoundingClientRect(),d=c.getBoundingClientRect(),u=c.childNodes,g=a.height-10,h=0;return u.forEach(t=>{"Text"!==t.constructor.name&&(h+=t.getBoundingClientRect().height)}),h<g&&(h=g),e=100/h*g,l=Math.floor(e/100*g),r=h-d.height,s=d.height-8-l,{scrollHeight:l,contentHeight:h,maxScrollTop:r,maxBarTop:s}}}])}));